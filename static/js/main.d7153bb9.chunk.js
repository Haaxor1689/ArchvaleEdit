(this["webpackJsonparchvale-edit"]=this["webpackJsonparchvale-edit"]||[]).push([[0],{233:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var a,i=n(0),c=n(33),r=n.n(c),A=n(6),o=n(262),s=n(267),l=n(268),d=n(40),u=n.n(d),g=n(57),b=n(255),p=n(264),j=n(263),h=n(8),m=n(23),f=n(254),x=n(21),O=n(1),v=["initialValues","onSubmit","mutators","decorators","children","render"],C=["handleSubmit"],w=function(e){var t=e.initialValues,n=e.onSubmit,a=e.mutators,i=e.decorators,c=e.children,r=e.render,A=Object(m.a)(e,v);return Object(O.jsx)(x.a,{initialValues:t,onSubmit:n,mutators:a,decorators:i,subscription:{active:!0,submitting:!0},render:function(e){var t,n=e.handleSubmit,a=Object(m.a)(e,C);return Object(O.jsx)(f.a,Object(h.a)(Object(h.a)({component:"form",display:"flex",flexDirection:"column",onSubmit:n},A),{},{children:null!==(t=null===r||void 0===r?void 0:r(a))&&void 0!==t?t:c}))}})},k=n(7),B=n(109),y=n.p+"static/media/badges.14a17255.yaml",Q=n.p+"static/media/items.98401fef.yaml",S=function(e){var t=[];return fetch(e).then((function(e){return e.text()})).then((function(e){B.a.load(e).forEach((function(e){t[e.id]=e}))})),t},R=S(y),U=S(Q),E=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){var e,n;return t(null!==(e=null===(n=a.result.match(/;base64,(.*)/))||void 0===n?void 0:n[1])&&void 0!==e?e:"")},a.onerror=function(e){return n(e)}}))},Y=function(e,t){var n=window.URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=t,a.click()},J=function(e,t){return function(n){return(t?e.required():e.nullable()).validate(n).then((function(){})).catch((function(e){return e.errors}))}},I=function(e,t){return(Object(k.a)(Array(t).keys()).map((function(){return"0"})).join("")+e.toString(16)).slice(-t).toUpperCase()},D=function(e){return parseInt("0x".concat(e))},V=function(e,t,n){return Object(k.a)(Array(e.length/t).keys()).map((function(e){return e*t})).map((function(n){return e.slice(n,n+t)})).map(n)},N="\n    -1px -1px 0 #000,  \n     1px -1px 0 #000,\n    -1px  1px 0 #000,\n\t\t 1px  1px 0 #000,\n\t\t 1px  3px 0 #000,\n\t\t 3px  2px 0 #000",F=function(e,t){return!t||e.id===t.id},M=function(e,t){return"Material"===e.type&&F(e,t)},T=function(e,t){return!!e.type.match(/.* Weapon/)&&F(e,t)},G=n(261),K=n(79),X=["value","onChange"],q=function(e){var t=e.id,n=e.label,a=e.helperText,i=e.required,c=e.validate,r=void 0===c?i?K.a().required():K.a().nullable():c,A=e.disabled,o=e.acceptFileTypes,s=Object(x.c)(t,{validate:J(r),subscription:{value:!0,error:!0,touched:!0},type:"file",parse:function(e){return e}}),l=s.input,d=l.value,u=l.onChange,g=Object(m.a)(l,X),f=s.meta;return Object(O.jsxs)(b.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(O.jsxs)(b.a,{sx:{display:"flex",gap:4,alignItems:"baseline"},children:[Object(O.jsxs)(j.a,{variant:"contained",component:"label",disabled:A,children:[n,Object(O.jsx)("input",Object(h.a)(Object(h.a)({hidden:!0},g),{},{onChange:function(e){var t,n=e.target;return u(null===(t=n.files)||void 0===t?void 0:t[0])},accept:o&&o.length>1?o.join(", "):null===o||void 0===o?void 0:o[0],required:i}))]}),Object(O.jsx)(p.a,{sx:{color:"text.light",opacity:.6},children:d?d.name:"No file selected"})]}),(f.error&&f.touched||a)&&Object(O.jsx)(G.a,{error:f.error&&f.touched,children:f.error&&f.touched?f.error:a})]})},H=function(e){var t=e.setWorldData;return Object(O.jsxs)(w,{initialValues:{file:void 0},onSubmit:function(){var e=Object(g.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.file,e.t0=t,e.t1=a.name,e.t2=JSON,e.t3=atob,e.t4=atob,e.next=8,E(a);case 8:e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7=(0,e.t3)(e.t6),e.t8=e.t2.parse.call(e.t2,e.t7),e.t9=[e.t1,e.t8],(0,e.t0)(e.t9);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sx:{gap:2,flexGrow:1},children:[Object(O.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)(p.a,{variant:"h1",children:"Select save file"}),Object(O.jsx)(j.a,{type:"submit",variant:"contained",size:"large",children:"Load"})]}),Object(O.jsxs)(b.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1,gap:10},children:[Object(O.jsxs)(p.a,{textAlign:"center",variant:"body2",children:["Open a"," ",Object(O.jsx)(b.a,{component:"span",fontWeight:"bold",sx:{color:"badge"},children:'".avsv"'})," ","save file from"," ",Object(O.jsx)(b.a,{component:"span",fontWeight:"bold",sx:{color:"badge"},children:'"%AppData%\\AV_gms2_3"'})," ","folder."]}),Object(O.jsx)(q,{id:"file",label:"File",required:!0,acceptFileTypes:[".avsv"]})]})]})},Z=n(266),z=n.p+"static/media/badgesTab.06150098.png",L=n.p+"static/media/inventoryTab.294a3c54.png",P=n.p+"static/media/storageTab.95b2dca3.png",W=n(265),_=n.p+"static/media/panel.f6ce5c66.png",$=n.p+"static/media/minus.4905f9f3.png",ee=n.p+"static/media/plus.6cbd42cf.png",te=["img","sx"],ne=function(e){var t=e.img,n=e.sx,a=Object(m.a)(e,te);return Object(O.jsx)(b.a,Object(h.a)(Object(h.a)({},a),{},{sx:Object(h.a)({background:t?"url(".concat(t,")"):void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n)}))},ae=n(37),ie=n(28),ce=n.p+"static/media/slotAvailable.308b2f4e.png",re=n.p+"static/media/slotUnavailable.214c8ced.png",Ae=n.p+"static/media/slotFilled.d9e3c8c3.png",oe=n.p+"static/media/slotEmpty.458a2ac4.png",se=n.p+"static/media/slotOverflow.d6b849e3.png",le=n.p+"static/media/slotLocked.3a1855aa.png",de=n.p+"static/media/slotsPanel.33b3395c.png",ue=Object(ie.b)(a||(a=Object(ae.a)(["\n  0%, 50%, 100% {\n    opacity: 1;\n  }\n\n  25%, 75% {\n    opacity: 0.25;\n  }\n"]))),ge=function(e){var t=e.unlocked,n=e.used,a=e.hover,i=Math.min(a<0?n+a:n,t),c=a<0?-a:0,r=a<0?0:Math.max(Math.min(a,t-n),0),A=Math.max(t-(i+c+r),0),o=Math.max(n+a-t,0),s=Math.max(9-(i+c+r+A+o),0);return Object(O.jsxs)(ne,{img:de,sx:{display:"flex",alignItems:"center",backgroundPositionX:"left",gap:1,p:3,pb:7,mt:-5.5},children:[Object(k.a)(Array(i).keys()).map((function(e){return Object(O.jsx)(ne,{img:Ae,width:54,height:54},e)})),Object(k.a)(Array(c).keys()).map((function(e){return Object(O.jsx)(ne,{img:Ae,width:54,height:54,sx:{animation:"".concat(ue," 2s ease 0s infinite normal forwards")}},e)})),Object(k.a)(Array(r).keys()).map((function(e){return Object(O.jsx)(ne,{img:o?re:ce,width:54,height:54,sx:{animation:"".concat(ue," 2s ease 0s infinite normal forwards")}},e)})),Object(k.a)(Array(A).keys()).map((function(e){return Object(O.jsx)(ne,{img:oe,width:54,height:54},e)})),Object(k.a)(Array(o).keys()).map((function(e){return Object(O.jsx)(ne,{img:se,width:54,height:54},e)})),Object(k.a)(Array(s).keys()).map((function(e){return Object(O.jsx)(ne,{img:le,width:54,height:54},e)}))]})},be=n.p+"static/media/hover.2531f834.png",pe=n.p+"static/media/tile.b51cf0d0.png",je=n.p+"static/media/slot.1a6295c0.png",he=n(5),me=n(259),fe=n(26),xe=n(12),Oe=["className"],ve=Object(xe.a)((function(e){var t=e.className,n=Object(m.a)(e,Oe);return Object(O.jsx)(me.a,Object(h.a)(Object(h.a)({},n),{},{classes:{popper:t}}))}))(Object(he.a)({},"& .".concat(fe.a.tooltip),{maxWidth:800,background:"rgba(0,0,0,0.75)",display:"flex",flexDirection:"column",gap:4})),Ce=function(e){var t=e.title,n=e.children;return Object(O.jsx)(ve,{title:t,followCursor:!0,placement:"bottom-start",children:n})},we=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?"brightness(".concat(t?1:.5,")"):"brightness(0)"},ke=function(e){return e?" drop-shadow(3px 0 0 #2ce8f5) drop-shadow(-3px 0 0 #2ce8f5) drop-shadow(0 3px 0 #2ce8f5) drop-shadow(0 -3px 0 #2ce8f5)":""},Be=function(e){var t,n,a=e.unlocked,i=e.active,c=e.index,r=e.onClick,A=e.setHover,o=R[c];return Object(O.jsx)(Ce,{title:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{color:"badge",children:null!==(t=null===o||void 0===o?void 0:o.name)&&void 0!==t?t:"???"}),Object(O.jsx)(p.a,{color:"text.secondary",children:"Badge"}),Object(O.jsx)(p.a,{color:"highlight",children:null===o||void 0===o?void 0:o.description}),Object(O.jsx)(b.a,{sx:{display:"flex",gap:1},children:Object(k.a)(Array(null!==(n=null===o||void 0===o?void 0:o.slots)&&void 0!==n?n:0).keys()).map((function(e){return Object(O.jsx)(ne,{img:je,width:54,height:54},e)}))})]}),children:Object(O.jsx)(W.a,{onClick:r,onContextMenu:function(e){e.preventDefault(),r(e)},onMouseEnter:function(){return A(c)},onMouseLeave:function(){return A(void 0)},sx:{height:116,width:108,borderRadius:0,background:"url(".concat(pe,")"),backgroundSize:"contain",":hover":{backgroundImage:"url(".concat(be,")"),"& > img":{filter:"".concat(we(a)).concat(ke(i))}},"& > img":{filter:"".concat(we(a,!1)).concat(ke(i))}},children:Object(O.jsx)(b.a,{component:"img",src:"".concat("/ArchvaleEdit","/assets/badges/").concat(c+1,".png"),alt:"Badge ".concat(c+1)})})})},ye=function(){var e,t,n=Object(x.c)("badges",{subscription:{value:!0},parse:function(e){return e}}).input,a=n.value,c=n.onChange,r=Object(x.c)("badges_equipped",{subscription:{value:!0},parse:function(e){return e}}).input,o=r.value,s=r.onChange,l=Object(x.c)("badge_slots",{subscription:{value:!0}}).input,d=l.value,u=l.onChange,g=V(o,2,(function(e){return Number(e)})),j=g.reduce((function(e,t){var n,a;return e+(null!==(n=null===(a=R[t])||void 0===a?void 0:a.slots)&&void 0!==n?n:0)}),0),h=Object(i.useState)(),m=Object(A.a)(h,2),f=m[0],v=m[1],C=void 0===f?0:(null!==(e=null===(t=R[f])||void 0===t?void 0:t.slots)&&void 0!==e?e:0)*(g.indexOf(f)>=0?-1:1),w=Math.max(j+C-d,0),B=function(e){return u({target:{value:Math.min(9,Math.max(j,e))}})};return Object(O.jsxs)(b.a,{sx:{display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center"},children:[Object(O.jsx)(ne,{img:_,sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr",gap:1,px:6,pt:5,pb:7},children:Object(k.a)(a).map((function(e,t){return Object(O.jsx)(Be,{index:t,active:g.indexOf(t)>=0,unlocked:"1"===e,onClick:function(e){!function(e,t){c({target:{value:a.substring(0,e)+("1"===a[e]&&t?"0":"1")+a.substring(e+1)}});var n=Object(k.a)(g),i=g.findIndex((function(t){return t===e}));i>=0?n.splice(i,1):t||w||n.push(e),s({target:{value:n.map((function(e){return e<10?"0".concat(e):"".concat(e)})).join("")}})}(t,2===e.button)},setHover:v},t)}))}),Object(O.jsxs)(b.a,{sx:{display:"flex",alignItems:"center",gap:1},children:[Object(O.jsx)(W.a,{onClick:function(){return B(d-1)},sx:{width:60,height:60},children:Object(O.jsx)(ne,{img:$,width:"100%",height:"100%"})}),Object(O.jsx)(ge,{unlocked:Number(d),used:j,hover:C}),Object(O.jsx)(W.a,{onClick:function(){return B(d+1)},sx:{width:60,height:60},children:Object(O.jsx)(ne,{img:ee,width:"100%",height:"100%"})})]}),Object(O.jsx)(p.a,{variant:"caption",mt:2,children:"Right click to learn badge. Left click to equip badge. Use plus/minus to unlock badge slots."})]})},Qe=n.p+"static/media/inventoryPanel.a312a209.png",Se=n.p+"static/media/storagePanel.d1d77165.png",Re=n.p+"static/media/itemCheatPanel.4cfb8817.png",Ue=n.p+"static/media/emptySlot.2e71b0d6.png",Ee=n.p+"static/media/itemSlot.bfe3c87f.png",Ye=n.p+"static/media/hoverSlot.7fb81315.png",Je=n.p+"static/media/itemTrash.e4ab7dbf.png",Ie=n.p+"static/media/hoverTrash.49af2549.png",De=n.p+"static/media/itemHead.64ec6425.png",Ve=n.p+"static/media/hoverHead.e21a9887.png",Ne=n.p+"static/media/itemChest.63a2fa9b.png",Fe=n.p+"static/media/hoverChest.a20f10ad.png",Me=n.p+"static/media/itemRing.ff8b9c86.png",Te=n.p+"static/media/hoverRing.1e5f282c.png",Ge=n(9),Ke=function(e){return"".concat(100*e,"%")},Xe={damage:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABOSURBVChTjYzBDQAgCMTc3xFcw/2QO0DB+LCJEdtgU8TPi90EZOF39oSij0mJG2BmdXYIYsHywbOBt+nD108lxAJmViWLkJyTL/FGfZMFalR6ZXaHaagAAAAASUVORK5CYII="},rate:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABDSURBVChTdYoBCgAgCAP3/57QN/qf4cQaWgcDvQ0Fkzwxxf/QFy0Y+YmK390Lp3jYmOuMNOJJG9ZBwiLjf+hOljIANk8WaZqO2/KaAAAAAElFTkSuQmCC"},range:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHCAYAAADam2dgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABESURBVChTdYuJDQAgCMTc3xFcw/3QAueX2IQcFCgPlvXFBH2o+ynXGznSLyZL1Na9V+KuAwZSB8DsUg35govVRvKoYgMty2Yu59pABgAAAABJRU5ErkJggg=="},ar_pen:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAA7SURBVChTY8AD/iNhDACXBAEoGwP8P3D6DoYiGAMFgxSiKMIH4IqwYXST0AFWN6EDmAReRTAAVcDwHwCv0GVB8ZtgEgAAAABJRU5ErkJggg==",title:"Armour Pen."},burn:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABFSURBVChTY0AC/6EYK/j/xNoFv4LvZUoYCsACIJ3oknDjQBIgjGw8XMe/54mYkjAJGAbxYZIggCIJ4kOEEQAmCJVgYAAAPCZOi2RzuUsAAAAASUVORK5CYII="},bleed:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABBSURBVChTY0AD/6E0Bvg/T8MUJIlVAU5JsAQI22sYYSj4/8TaBa4AxIcIQyVgGF03WABZJ7rROCVgACYIlWBgAAD6jDvxEibBMgAAAABJRU5ErkJggg=="},def:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABLSURBVChTYwCC/1CMDcDl/nfP3gLjoGAkcYb/Vi5pYAF0DBJHURSV2YGBSVYEAlgVgcQh0hCAYRq6KTAAloBhEB8ijAlgkkgKGBgAQfFry8kI66QAAAAASUVORK5CYII=",title:"Defense"},melee_dmg:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABQSURBVChTY8AD/iNhrOD/E2sXMAaxIUKoOuAKMBTN0zAFC+BSAAJgRWiSGIpAAG4aCH8rrcJQiGICSAEMQ8VQFIAAXCGMDRcEMZAAkgIGBgAgtlTXnCk5gQAAAABJRU5ErkJggg==",title:"Melee DMG",getValue:Ke},range_dmg:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABQSURBVChTY8AC/mPBKOC/XafHf7UYJzgGiUGkIACsAETDMBIfDNAFCCtAw2CAbDccJx/3ReYjFMFMBCmAYRRFSFbCFSLxERIgDhQgiTEwAADpXVQkzYOkbAAAAABJRU5ErkJggg==",title:"Ranged DMG",getValue:Ke},magic_dmg:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABFSURBVChTY8AD/kMxTvCfYepLCMah8L+QXydxisAK8ZoCkcSqCNn4/zovvmIoxFAAw1AxFCtAAK4QxoYLghhIAEkBAwMA9DVHf+T+acgAAAAASUVORK5CYII=",title:"Magical DMG",getValue:Ke},atk_spd:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABISURBVChTY0AD/5EwVvD/3zoTOAbxIcIIgCwBxugKURTgYONWhIQZ/n8vU8KQQFMMBigKQQpgGCoGBxgKYWwgRgHIElDMwAAA8INekEpc9JUAAAAASUVORK5CYII=",title:"ATK Speed",getValue:Ke},cost:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABWSURBVChTbY2BDcAgCAQZqgt1QdfqFrV98UUeLyEa7qImdJkj/X3uNNi5Cly2awzROEXr/p8aJ7mC+XIJx3KT3IEaIti+JQxBkQTOk2CqADtXFUqJzD4OQM4Re22gfAAAAABJRU5ErkJggg=="},ar_break:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABcSURBVChTYwCC/1CMDcDl/oMAkgAcHzh9B8Zm+N89ewtYIQyAJEEYJI6iCEkAgw/EYAAXfGLtApecp2GKqigqswNFIboCGAArBNEgBbgUgQCyJG7ToBgGgGyG/wBgQ2r6NdjNSgAAAABJRU5ErkJggg==",title:"Armour Break"},slow:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAA/SURBVChTY0AC/5EwCvjfPXsLHIP4EGEIwCkJ5mCRBCtAkUBTwPA/KrMDRQLEh0mCAFwBugQM4JSAASQJBgYA7wRSoavM2XgAAAAASUVORK5CYII=",getValue:Ke}},qe=function(e){var t,n,a,i=e.attr,c=e.value,r=Xe[i];return r?Object(O.jsxs)(b.a,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:300},children:[Object(O.jsx)(ne,{img:r.icon,width:32,height:32}),Object(O.jsx)(p.a,{flexGrow:1,children:null!==(t=r.title)&&void 0!==t?t:Object(Ge.a)(i)}),Object(O.jsx)(p.a,{color:"success.main",children:null!==(n=null===(a=r.getValue)||void 0===a?void 0:a.call(r,Number(c)))&&void 0!==n?n:c})]}):(console.error("Unknown stat ".concat(i,"!")),null)},He=function(e){var t=e.quality,n=e.name,a=e.rarity,i=e.type,c=e.effect,r=e.stats,o=e.inflicts;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(p.a,{color:a,children:[n,t>0&&" +".concat(t)]}),Object(O.jsx)(p.a,{color:"text.secondary",children:i}),c&&Object(O.jsx)(p.a,{children:c}),Object.entries(null!==r&&void 0!==r?r:{}).map((function(e){var t=Object(A.a)(e,2),n=t[0],a=t[1];return Object(O.jsx)(qe,{attr:n,value:a},n)})),o&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{color:"text.secondary",children:"Inflicts"}),Object.entries(o).map((function(e){var t=Object(A.a)(e,2),n=t[0],a=t[1];return Object(O.jsx)(qe,{attr:n,value:a},n)}))]})]})},Ze=function(e){switch(e){case"item":return Ee;case"trash":return Je;case"head":return De;case"chest":return Ne;case"ring":return Me;case"empty":return}},ze=function(e){switch(e){case"item":return Ye;case"trash":return Ie;case"head":return Ve;case"chest":return Fe;case"ring":return Te;case"empty":return}},Le=function(e){var t,n=e.item,a=e.onClick,i=e.variant,c=void 0===i?"item":i,r=e.hideTooltip,A=U[null!==(t=null===n||void 0===n?void 0:n.id)&&void 0!==t?t:-1];return Object(O.jsx)(Ce,{title:!n||r?"":A?Object(O.jsx)(He,Object(h.a)({quality:n.quality},A)):Object(O.jsx)(p.a,{color:"badge",children:"???"}),children:Object(O.jsxs)(W.a,{onClick:a,onContextMenu:function(e){e.preventDefault(),null===a||void 0===a||a(e)},sx:{position:"relative",height:114,width:108,borderRadius:0,background:"url(".concat(n||"item"!==c?Ze(c):Ue,")"),backgroundPosition:"bottom",backgroundRepeat:"no-repeat",backgroundSize:"contain",":hover":{backgroundImage:"url(".concat(ze(c),")")}},children:[n&&M(A)&&n.count>0&&Object(O.jsx)(p.a,{variant:"body2",sx:{position:"absolute",bottom:22,right:16,textShadow:N},children:n.count}),n&&T(A)&&n.quality>0&&Object(O.jsxs)(p.a,{variant:"body2",sx:{position:"absolute",top:22,right:16,textShadow:N},children:["+",n.quality]}),n&&Object(O.jsx)(b.a,{component:"img",src:"".concat("/ArchvaleEdit","/assets/inventory/").concat(n.id,".png"),alt:"".concat(n.id)})]})})},Pe=function(e){var t=e.hideTooltip,n=e.onClick;return Object(O.jsx)(b.a,{sx:{position:"relative",backgroundColor:"#262b44","::after":{content:'" "',position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"url(".concat(Re,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain"}},children:Object(O.jsx)(b.a,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr",gap:1,p:7,maxHeight:342,overflowY:"auto",backgroundColor:"#262b44"},children:U.filter((function(e){return e})).map((function(e){return Object(O.jsx)(Le,{hideTooltip:t,item:{id:e.id,count:0,quality:0},onClick:function(t){return n(e,t)}},e.id)}))})})},We=["className"],_e=Object(xe.a)((function(e){var t=e.className,n=Object(m.a)(e,We);return Object(O.jsx)(me.a,Object(h.a)(Object(h.a)({},n),{},{classes:{popper:t}}))}))(Object(he.a)({},"& .".concat(fe.a.tooltip),{background:"rgba(0,0,0,0)"})),$e=function(e){var t=e.item,n=e.children;return Object(O.jsx)(_e,{title:t?Object(O.jsx)(Le,{item:t,variant:"empty"}):"",followCursor:!0,placement:"bottom-start",children:n})},et=n.p+"static/media/equipPanel.1a1ddbf5.png",tt=function(e){var t=e.onSlotClick,n=Object(x.c)("equipment",{subscription:{value:!0}}).input,a=n.value,i=n.onChange,c=V(a,7,(function(e){return"FFFF000"===e?void 0:{id:D(e.slice(0,4)),count:D(e.slice(4,6)),quality:D(e[6])}})),r=function(e,t){i({target:{value:a.substring(0,7*e)+(t?I(t.id,4)+I(t.count,2)+I(t.quality,1):"FFFF000")+a.substring(7*(e+1))}})};return Object(O.jsxs)(ne,{img:et,sx:{display:"flex",flexDirection:"column",gap:1,pt:4,pb:6,pl:1,pr:5,mb:26},children:[Object(O.jsx)(Le,{item:c[0],variant:"head",onClick:function(){return r(0,t(0,c[0]))}}),Object(O.jsx)(Le,{item:c[1],variant:"chest",onClick:function(){return r(1,t(1,c[1]))}}),Object(O.jsx)(Le,{item:c[2],variant:"ring",onClick:function(){return r(2,t(2,c[2]))}})]})},nt=function(e){var t=e.variant,n=Object(x.c)(t,{subscription:{value:!0}}).input,a=n.value,c=n.onChange,r=Object(i.useState)(),o=Object(A.a)(r,2),s=o[0],l=o[1],d=Object(i.useState)(),u=Object(A.a)(d,2),g=u[0],j=u[1],m=V(a,7,(function(e){return"FFFF000"===e?void 0:{id:D(e.slice(0,4)),count:D(e.slice(4,6)),quality:D(e[6])}})),f=function(e,t){c({target:{value:a.substring(0,7*e)+(t?I(t.id,4)+I(t.count,2)+I(t.quality,1):"FFFF000")+a.substring(7*(e+1))}})};return Object(O.jsx)($e,{item:s,children:Object(O.jsxs)(b.a,{sx:{display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center",gap:2},children:[Object(O.jsxs)(b.a,{sx:{display:"flex",alignItems:"center"},children:[Object(O.jsxs)(ne,{img:"storage"===t?Se:Qe,sx:{position:"relative",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr",gap:1,px:5,pt:6,pb:"storage"===t?7:27,"> *:first-child":{mb:"inventory"===t?4:void 0}},children:[m.map((function(e,t){return Object(O.jsx)(Le,{item:e,hideTooltip:!!s,onClick:function(n){if(e&&n.shiftKey&&!s){var a=2===n.button?-1:1;f(t,function(e,t,n){return M(U[e.id],n)?Object(h.a)(Object(h.a)({},e),{},{count:Math.max(1,Math.min(255,e.count+t))}):e}(function(e,t,n){return T(U[e.id],n)?Object(h.a)(Object(h.a)({},e),{},{quality:Math.max(0,Math.min(5,e.quality+t))}):e}(e,a),a))}else if(e&&s&&M(U[e.id],s)){var i=e.count+s.count;i<=255?(l(void 0),f(t,Object(h.a)(Object(h.a)({},e),{},{count:i}))):(l(Object(h.a)(Object(h.a)({},e),{},{count:i-255})),f(t,Object(h.a)(Object(h.a)({},e),{},{count:255})))}else l(e),f(t,s)}},t)})),Object(O.jsx)(b.a,{sx:{position:"absolute",right:30,bottom:40},children:Object(O.jsx)(Le,{item:g,variant:"trash",hideTooltip:!!s,onClick:function(){l(s?void 0:g),j(s)}})})]}),"inventory"===t&&Object(O.jsx)(tt,{onSlotClick:function(e,t){if(s){var n=U[s.id];return(0===e?"Head Armour"===n.type:1===e?"Body Armour"===n.type:"Ring"===n.type)?(l(t),s):t}l(t)}})]}),Object(O.jsxs)(p.a,{variant:"caption",textAlign:"center",children:["Pick new items from item database below, pick full stack (255) or highest quality (+5) with shift. Use left and right click together with shift to modify count/quality of items in the ",t,"."]}),Object(O.jsx)(Pe,{hideTooltip:!!s,onClick:function(e,t){l(s?void 0:{id:e.id,count:t.shiftKey&&M(e)?255:1,quality:t.shiftKey&&T(e)?5:0})}})]})})},at=n.p+"static/media/panel.f421ed72.png",it=function(){return Object(O.jsx)(b.a,{sx:{display:"flex",flexDirection:"column",alignSelf:"stretch",alignItems:"center"},children:Object(O.jsxs)(ne,{img:at,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:966,height:696,gap:1,p:6},children:[Object(O.jsx)(p.a,{variant:"h2",children:"Character"}),Object(O.jsx)(p.a,{children:"*WiP*"})]})})},ct=n.p+"static/media/tab.4814d547.png",rt=function(e){var t=e.name,n=e.icon,a=e.active,i=e.onClick;return Object(O.jsx)(ne,{component:W.a,img:ct,onClick:i,sx:{display:"flex",alignItems:"end",px:5.5,pt:4,pb:0,borderRadius:0,transition:"transform 0.2s",transform:a?void 0:"translateY(50%)",":hover":{filter:"brightness(1.5)",backgroundColor:"unset"}},children:Object(O.jsx)(ne,{img:n,width:78,height:78})},t)},At=[{name:"character",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABTSURBVChTY0AC/3FgFPDfXsMIjEvsLVEwSA6iBE0RMg1jg9SgKERW9GRZERgfas3EVAgThCkCYagihEKQIpgEQYUwxegYphAEUBQjY5AcAwMDAwAr24VRPtFvjgAAAABJRU5ErkJggg==",component:Object(O.jsx)(it,{})},{name:"inventory",icon:L,component:Object(O.jsx)(nt,{variant:"inventory"})},{name:"storage",icon:P,component:Object(O.jsx)(nt,{variant:"storage"})},{name:"badges",icon:z,component:Object(O.jsx)(ye,{})}],ot=function(e){var t=Object(A.a)(e.save,2),n=t[0],a=t[1],c=e.reset,r=Object(i.useState)("inventory"),o=Object(A.a)(r,2),s=o[0],l=o[1],d=At.find((function(e){return e.name===s}));return Object(O.jsxs)(w,{initialValues:a,onSubmit:function(){var e=Object(g.a)(u.a.mark((function e(t){var a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="data:application/octet-stream;base64,".concat(btoa(btoa(JSON.stringify(t)))),e.next=3,fetch(a).then((function(e){return e.blob()}));case 3:i=e.sent,Y(i,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sx:{display:"flex",gap:6,alignItems:"flex-start"},children:[Object(O.jsxs)(f.a,{sx:{alignSelf:"stretch",display:"flex",alignItems:"center",gap:2},children:[Object(O.jsx)(p.a,{variant:"h1",sx:{flexGrow:1},children:"Save Editor"}),Object(O.jsx)(j.a,{onClick:c,children:"Discard"}),Object(O.jsx)(j.a,{type:"submit",variant:"contained",size:"large",children:"Save"})]}),Object(O.jsx)(f.a,{sx:{display:"flex",alignSelf:"center",gap:2,mb:-6,overflow:"hidden"},children:At.map((function(e){return Object(O.jsx)(rt,Object(h.a)(Object(h.a)({},e),{},{active:e.name===s,onClick:function(){return l(e.name)}}),e.name)}))}),null===d||void 0===d?void 0:d.component,Object(O.jsx)(p.a,{variant:"h2",children:"Raw world data:"}),Object(O.jsx)(Z.a,{sx:{whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:300,overflowY:"auto",fontFamily:"monospace",fontSize:"1rem",textShadow:"none",p:3},children:Object(O.jsx)(x.b,{subscription:{values:!0},children:function(e){var t=e.values;return JSON.stringify(t,null,2)}})})]})},st=n(80),lt=(n(233),n.p+"static/media/background.9a6f1d9f.png"),dt=Object(st.a)({palette:{text:{secondary:"#5a6988"},error:{main:"#e43b44"},success:{main:"#63c74d"},badge:"#2ce8f5",highlight:"#fee761",uncommon:"#55c157",legendary:"#ff3d3d",mode:"dark",primary:{main:"#ffc825"},background:{default:"#262b44"}},typography:{fontSize:20,fontFamily:"Nokia, Arial",h1:{fontSize:"4rem"},h2:{fontSize:"3rem"},caption:{fontSize:"0.666rem"},body2:{fontSize:"0.95rem"}},spacing:6,components:{MuiCssBaseline:{styleOverrides:{"*":{imageRendering:"pixelated"},body:{position:"relative"},"body:before":{content:'" "',position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1,opacity:.2,backgroundImage:"url(".concat(lt,")"),backgroundPosition:"bottom",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"saturate(1) blur(10px)"}}}}}),ut=function(){var e=Object(i.useState)(),t=Object(A.a)(e,2),n=t[0],a=t[1];return Object(O.jsxs)(o.a,{theme:dt,children:[Object(O.jsx)(s.a,{}),Object(O.jsx)(l.a,{maxWidth:"lg",component:"main",sx:{display:"flex",flexDirection:"column",minHeight:"100vh",py:6},children:n?Object(O.jsx)(ot,{save:n,reset:function(){return a(void 0)}}):Object(O.jsx)(H,{setWorldData:a})})]})};r.a.render(Object(O.jsx)(i.StrictMode,{children:Object(O.jsx)(ut,{})}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.d7153bb9.chunk.js.map